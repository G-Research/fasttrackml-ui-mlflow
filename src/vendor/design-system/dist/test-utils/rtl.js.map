{"version":3,"file":"rtl.js","sources":["../../src/test-utils/rtl/selectEvent.ts","../../src/test-utils/rtl/table.ts","../../src/test-utils/rtl/index.ts"],"sourcesContent":["import { queryHelpers, waitFor, within } from '@testing-library/react';\nimport userEvent from '@testing-library/user-event';\n\nimport { selectClasses } from '../common';\n\n/**\n * Allows the helpers in this module to be used when the select element is\n * queried _semantically_ (as if it were a native <select> element) - i.e.\n * `ByRole('combobox', { name: '...' })`, rather than by test ID.\n *\n * Also checks if <DesignSystemProvider> was used, because many of the helpers\n * in this module query by class name starting with \"du-bois-\", which requires\n * the provider.\n */\nfunction getRootElement(element: HTMLElement): HTMLElement {\n  if (element.getAttribute('role') === 'combobox') {\n    element = element.closest(`.${selectClasses.selector}`)!.parentElement!;\n  }\n  if (element.classList.contains('ant-select')) {\n    throw new Error('Component must be wrapped by <DesignSystemProvider>');\n  }\n  return element;\n}\n\nfunction getOptionsList(select: HTMLElement): HTMLElement {\n  const body = select.ownerDocument.body;\n  const input = within(select).getByRole('combobox');\n  const listId = input.getAttribute('aria-owns') || input.getAttribute('aria-controls');\n  if (!listId) {\n    throw queryHelpers.getElementError('Options input does not control an options list', body);\n  }\n\n  const listbox = select.ownerDocument.getElementById(listId);\n  if (!listbox?.parentElement) {\n    throw queryHelpers.getElementError('Options listbox does not have a parent', body);\n  }\n\n  const optionsList = listbox.parentElement.querySelector<HTMLElement>(`.${selectClasses.list}`);\n  if (!optionsList) {\n    throw queryHelpers.getElementError('Options list not found', body);\n  }\n\n  return optionsList;\n}\n\n/**\n * Opens the dropdown menu for the <Select/> by clicking. Will throw an error if\n * the menu is already opened or if the menu is unable to be opened.\n */\nexport async function openMenu(select: HTMLElement): Promise<void> {\n  select = getRootElement(select);\n  if (select.classList.contains(selectClasses.open)) {\n    throw queryHelpers.getElementError('Select is already open', select);\n  }\n  const selector = select.querySelector(`.${selectClasses.selector}`);\n  if (!selector) {\n    throw queryHelpers.getElementError('Selector not found', select);\n  }\n  await userEvent.click(selector, { pointerEventsCheck: 0 });\n  await waitFor(() => {\n    if (!select.classList.contains(selectClasses.open)) {\n      throw queryHelpers.getElementError('Select did not open', select);\n    }\n  });\n}\n\n/**\n * Closes the dropdown menu for the <Select/> by clicking. Will throw an error if\n * the menu is already closed or if the menu is unable to be closed.\n */\nexport async function closeMenu(select: HTMLElement): Promise<void> {\n  select = getRootElement(select);\n  if (!select.classList.contains(selectClasses.open)) {\n    throw queryHelpers.getElementError('Select is already closed', select);\n  }\n  const selector = select.querySelector(`.${selectClasses.selector}`);\n  if (!selector) {\n    throw queryHelpers.getElementError('Selector not found', select);\n  }\n  await userEvent.click(selector, { pointerEventsCheck: 0 });\n  await waitFor(() => {\n    if (select.classList.contains(selectClasses.open)) {\n      throw queryHelpers.getElementError('Select did not close', select);\n    }\n  });\n}\n\n/**\n * Returns a string concatenating the labels for all selected options.\n */\nexport function getLabelText(select: HTMLElement): string {\n  select = getRootElement(select);\n  const selector = select.querySelector(`.${selectClasses.selector}`);\n  if (!selector) {\n    throw queryHelpers.getElementError('Selector not found', select);\n  }\n  // Trim the text to avoid weird whitespace issues non-label elements being added.\n  // For example, the input mirror is an empty span with some whitespace that is\n  // nested under the selector but does not show up in the label text.\n  return selector.textContent?.trim() ?? '';\n}\n\n/**\n * Removes the `option` by clicking its \"X\" button. Can only be used with a <Select/>\n * component with `mode=\"multiple\"`. The provided strings must match the option label\n * exactly.\n */\nexport async function removeMultiSelectOption(select: HTMLElement, option: string): Promise<void> {\n  select = getRootElement(select);\n  const selector = select.querySelector<HTMLElement>(`.${selectClasses.selector}`);\n  if (!selector) {\n    throw queryHelpers.getElementError('Selector not found', select);\n  }\n  const optionItem = within(selector).getByText(option).closest(`.${selectClasses.item}`);\n  if (optionItem === null) {\n    throw queryHelpers.getElementError(`Option \"${option}\" not found`, select);\n  }\n  const removeItem = optionItem.querySelector(`.${selectClasses.removeItem}`);\n  if (removeItem === null) {\n    throw queryHelpers.getElementError(`Remove button for option \"${option}\" not found`, optionItem as HTMLElement);\n  }\n  await userEvent.click(removeItem);\n}\n\n/**\n * Selects options from the dropdown menu for a <Select/> component with `mode=\"multiple\"`.\n * The provided strings must match the option labels exactly. There is a known\n * limitation for lists that are extremely long because AntD virtualizes the\n * options so not all may options may be rendered in the DOM. If this is causing\n * you issues, please let #help-frontend know.\n */\nexport async function multiSelect(select: HTMLElement, options: string[]): Promise<void> {\n  select = getRootElement(select);\n  await openMenu(select);\n  const optionsList = getOptionsList(select);\n  for (let i = 0; i < options.length; i++) {\n    const option = options[i];\n    const optionItem = within(optionsList).getByTitle(option);\n    await userEvent.click(optionItem, { pointerEventsCheck: 0 });\n  }\n  // Close the menu to indicate that selection has finished\n  await closeMenu(select);\n}\n\n/**\n * Selects options from the dropdown menu for a <Select/> component without a\n * mode. The provided string must match an option label exactly. There is a known\n * limitation for lists that are extremely long because AntD virtualizes the\n * options so not all may options may be rendered in the DOM. If this is causing\n * you issues, please let #help-frontend know.\n */\nexport async function singleSelect(select: HTMLElement, option: string): Promise<void> {\n  select = getRootElement(select);\n  await openMenu(select);\n  const optionsList = getOptionsList(select);\n  const optionItem = within(optionsList).getByTitle(option);\n  await userEvent.click(optionItem, { pointerEventsCheck: 0 });\n  // Menu automatically closes for a single <Select/> (no mode=\"multiple\")\n}\n\n/**\n * Clicks on the \"Clear\" button. In order for this function to work properly,\n * the `allowClear` prop must be set to `true`.\n */\nexport async function clearAll(select: HTMLElement): Promise<void> {\n  select = getRootElement(select);\n  const clearBtn = select.querySelector(`.${selectClasses.clear}`);\n  if (!clearBtn) {\n    throw queryHelpers.getElementError('Select not clearable', select);\n  }\n  await userEvent.click(clearBtn);\n}\n\n/**\n * Opens the dropdown menu, finds all of the options in the dropdown, closes\n * the menu, and returns a list of the text of each option in order.\n */\nexport async function getAllOptions(select: HTMLElement): Promise<string[]> {\n  select = getRootElement(select);\n  await openMenu(select);\n  const optionsList = getOptionsList(select);\n  const options: string[] = [];\n  optionsList.querySelectorAll(`.${selectClasses.option}`).forEach((option) => {\n    if (option.textContent === null) {\n      throw queryHelpers.getElementError('Option had no text content', option as HTMLElement);\n    }\n    options.push(option.textContent);\n  });\n  await closeMenu(select);\n  return options;\n}\n","import { queryHelpers, within } from '@testing-library/react';\n\nimport type { GetTableRowByCellTextOptions, RowIdentifier, TableRows } from '../common';\nimport { createMarkdownTable } from '../common';\n\nfunction getColumnHeaderIndex(tableElement: HTMLElement, columnHeaderName: string | RegExp): number {\n  const columnHeader = within(tableElement).getByRole('columnheader', { name: columnHeaderName });\n  const columnHeaderIndex = Array.from(columnHeader.parentElement?.children ?? []).indexOf(columnHeader);\n  return columnHeaderIndex;\n}\n\n/**\n * Returns the table row that contains the specified `cellText`. The `cellText`\n * must be in the column with name `columnHeaderName` if it is specified. Otherwise,\n * the `cellText` must be in the first column. Throws an error if either multiple\n * rows or no rows can be found that match the given options. Also throws an error\n * if the column with name `columnHeaderName` cannot be found.\n *\n * @param tableElement The HTMLElement representing the table to query in. This is likely\n * a `<div role=\"table\">` element, so it can be queried by `screen.getByRole('table')`.\n * @param cellText The cell text that uniquely identifies the row.\n * @param columnHeaderName The name of the column to search the text for. If not provided,\n * the first column will be used.\n */\nexport function getTableRowByCellText(\n  tableElement: HTMLElement,\n  cellText: string,\n  { columnHeaderName }: GetTableRowByCellTextOptions = {},\n): HTMLElement {\n  const columnHeaderIndex = columnHeaderName === undefined ? 0 : getColumnHeaderIndex(tableElement, columnHeaderName);\n\n  const matchingRows = within(tableElement)\n    .getAllByRole('row')\n    // Skip first row (table header)\n    .slice(1)\n    .filter((row) => {\n      const cells = within(row).getAllByRole('cell');\n      const cell = cells[columnHeaderIndex];\n      const cellContainsText = within(cell).queryByText(cellText) !== null;\n      return cellContainsText;\n    });\n\n  if (matchingRows.length === 0) {\n    throw queryHelpers.getElementError(\n      `Unable to find a table row with text \"${cellText}\" in the column \"${columnHeaderName}\"`,\n      tableElement,\n    );\n  }\n\n  if (matchingRows.length > 1) {\n    throw queryHelpers.getElementError(\n      `Found multiple table rows with text \"${cellText}\" in the column \"${columnHeaderName}\"`,\n      tableElement,\n    );\n  }\n\n  return matchingRows[0];\n}\n\n/**\n * Converts a Du Bois table to a markdown table string. This means that each cell\n * is separated by a pipe (including the edges), the header row is on its own line\n * at the top, each data row is on its own line below, and the header row is separated\n * by a row of dashes from the data rows. This is useful for checking table contents\n * in tests.\n *\n * @param tableElement The HTMLElement representing the table to query in. This is likely\n * a `<div role=\"table\">` element, so it can be queried by `screen.getByRole('table')`.\n *\n * @example\n * The HTML table:\n * ```jsx\n *   <Table>\n *     <TableRow isHeader>\n *       <TableHeader>Name</TableHeader>\n *       <TableHeader>Fruit</TableHeader>\n *     </TableRow>\n *     <TableRow>\n *       <TableCell>Alice</TableCell>\n *       <TableCell>Apple</TableCell>\n *     </TableRow>\n *     <TableRow>\n *       <TableCell>Brady</TableCell>\n *       <TableCell>Banana</TableCell>\n *     </TableRow>\n *   </Table>\n * ```\n *\n * The Markdown table:\n * ```md\n *   | Name | Fruit |\n *   | --- | --- |\n *   | Alice | Apple |\n *   | Brady | Banana |\n * ```\n */\nexport function toMarkdownTable(tableElement: HTMLElement): string {\n  const { bodyRows, headerRow } = getTableRows(tableElement);\n  const columns = within(headerRow)\n    .getAllByRole('columnheader')\n    .map((column) => column.textContent ?? '');\n  const rows = bodyRows.map((row) =>\n    within(row)\n      .getAllByRole('cell')\n      .map((cell) => cell.textContent ?? ''),\n  );\n  return createMarkdownTable(columns, rows);\n}\n\n/**\n * Returns the header row and all body rows (non-header rows) in order. Assumes that the\n * `tableElement` has a single header row (as the first row) and the rest of the rows are\n * body rows.\n *\n * @param tableElement The HTMLElement representing the table to query in. This is likely\n * a `<div role=\"table\">` element, so it can be queried by `screen.getByRole('table')`.\n */\nexport function getTableRows(tableElement: HTMLElement): TableRows<HTMLElement> {\n  const [firstRow, ...restRows] = within(tableElement).getAllByRole('row');\n  return {\n    bodyRows: restRows,\n    headerRow: firstRow,\n  };\n}\n\n/**\n * Returns the table cell in the specified table row corresponding to the given\n * `columnHeaderName`. This is useful for checking that a row has a particular value\n * for a given column, especially when there are duplicate values in the column.\n *\n * @example\n * The HTML table:\n * ```jsx\n *   <Table>\n *     <TableRow isHeader>\n *       <TableHeader>Name</TableHeader>\n *       <TableHeader>Age</TableHeader>\n *     </TableRow>\n *     <TableRow>\n *       <TableCell>Alex</TableCell>\n *       <TableCell>25</TableCell>\n *     </TableRow>\n *     <TableRow>\n *       <TableCell>Brenda</TableCell>\n *       <TableCell>39</TableCell>\n *     </TableRow>\n *     <TableRow>\n *       <TableCell>Carlos</TableCell>\n *       <TableCell>39</TableCell>\n *     </TableRow>\n *   </Table>\n * ```\n *\n * ```js\n * const table = screen.getByRole('table');\n * const result = getTableCellInRow(table, { cellText: 'Carlos' }, 'Age');\n * expect(result.textContent).toEqual('39');\n * ```\n */\nexport function getTableCellInRow(\n  tableElement: HTMLElement,\n  row: RowIdentifier,\n  columnHeaderName: string | RegExp,\n): HTMLElement {\n  const tableRowElement = getTableRowByCellText(tableElement, row.cellText, { columnHeaderName: row.columnHeaderName });\n  const columnHeaderIndex = getColumnHeaderIndex(tableElement, columnHeaderName);\n  const cells = within(tableRowElement).getAllByRole('cell');\n  const cell = cells[columnHeaderIndex];\n  return cell;\n}\n","import userEvent from '@testing-library/user-event';\n\nexport * as selectEvent from './selectEvent';\n\nexport * from './table';\n\n/**\n * Opens the dropdown menu by clicking on the dropdown button.\n *\n * @param dropdownButton - The Dropdown Trigger button that opens the menu when clicked.\n */\nexport const openDropdownMenu = async (dropdownButton: HTMLElement) => {\n  await userEvent.type(dropdownButton, '{arrowdown}');\n};\n"],"names":["getRootElement","element","getAttribute","closest","selectClasses","selector","parentElement","classList","contains","Error","getOptionsList","select","body","ownerDocument","input","within","getByRole","listId","queryHelpers","getElementError","listbox","getElementById","optionsList","querySelector","list","openMenu","open","userEvent","click","pointerEventsCheck","waitFor","closeMenu","getLabelText","_selector$textContent","_selector$textContent2","textContent","trim","removeMultiSelectOption","option","optionItem","getByText","item","removeItem","multiSelect","options","i","length","getByTitle","singleSelect","clearAll","clearBtn","clear","getAllOptions","querySelectorAll","forEach","push","getColumnHeaderIndex","tableElement","columnHeaderName","_columnHeader$parentE","_columnHeader$parentE2","columnHeader","name","columnHeaderIndex","Array","from","children","indexOf","getTableRowByCellText","cellText","arguments","undefined","matchingRows","getAllByRole","slice","filter","row","cells","cell","cellContainsText","queryByText","toMarkdownTable","bodyRows","headerRow","getTableRows","columns","map","column","_column$textContent","rows","_cell$textContent","createMarkdownTable","firstRow","restRows","getTableCellInRow","tableRowElement","openDropdownMenu","dropdownButton","type"],"mappings":"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"}